\documentclass[10pt]{amsart}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[multiple]{footmisc}
\usepackage{multicol}
%\usepackage{enumerate}
%\usepackage{enumitem}
\usepackage{tikz}
\usetikzlibrary{arrows}
\usepackage{mathdots}

%let's have nice pdf metadata :)
\usepackage[pdfauthor={Kameryn J Williams},
    pdftitle={Math335 Lecture Notes: Chapter 3},
    hidelinks 
]{hyperref}

\input{../../macros.tex}


%\theoremstyle{theorem}
\ifdefined\project \else \newtheorem{project}[theorem]{Project Idea} \fi
\ifdefined\theoremschema \else \newtheorem{theoremschema}[theorem]{Theorem Schema} \fi



\title{Math 355 lecture notes \\ Chapter 3: The cumulative hierarchy}

\author{Kameryn J. Williams}
\address[Kameryn J. Williams]{
Bard College at Simon's Rock \\
84 Alford Rd \\
Great Barrington, MA 01230}
\email{kwilliams@simons-rock.edu}
\urladdr{http://kamerynjw.net}

\date{\today}

\begin{document}

\maketitle

\section{Trouble in paradise}

Way back in Chapter 0 we said that a set is a well-defined collection of objects. The trouble with this definition is that allows paradoxical objects---sets whose existence allows you to derive a contradiction. This is bad, because the logics we use in mathematics allow you to derive anything from a contradiction. We don't want this. (But there is a silver lining: it makes it really easy to prove the Riemann hypothesis, $\mathrm P = \mathrm{NP}$, $\mathrm P \ne \mathrm{NP}$ and other big open conjectures!\footnote{A joke I once heard about an eminent set theorist: the reason he's been so prolific is that as a grad student he discovered a contradiction in the axioms, and he's spent his career hiding its use in complicated proofs by contradiction for his many fabulous theorems.})

The most famous of these paradoxical objects is due to the philosopher Bertrand Russell.

\begin{theorem}[Russell's paradox]
If there is a set of all sets then you can derive a contradiction.
\end{theorem}

Note that by the Chapter 0 definition, the collection $\Vrm = \{ x : x$ is a set$\}$ is a set. So Russell demonstrates a problem with that definition.

\begin{proof}
Define $R \subseteq \Vrm$ as $R = \{ x \in \Vrm : x \not \in x \}$. This is a set by the Chapter 0 definition, since it's sensible to ask whether or not something is an element of $R$. For example, $\emptyset \in R$. You can also show that every ordinal is an element of $R$. 

But is $R \in R$? If yes, then by the defining property of $R$ we get that $R \not \in R$. If no, then again by the defining property of $R$ we get that $R \in R$. Either way, we get a contradiction.
\end{proof}

Here's an alternate way to prove the result. Suppose there is a set $V$ of all sets. Then $\powerset(V) \subseteq V$. So $\card{\powerset(V)} < \card V$, but Cantor's theorem tells us that $\card V < \card{\powerset(V)}$. Contradiction.

Similar arguments show that if there's a set of all ordinals or a set of all cardinals then you can derive a contradiction. Let me give the argument for ordinals, and leave the argument for cardinals to you.

\begin{theorem}[Burali-Forti paradox]
If there is a set of all ordinals then you can derive a contradiction.
\end{theorem}

\begin{proof}
Suppose that $\Ord$, the collection of all ordinals, is a set. We know that $\Ord$ is well-ordered, so it would be an ordinal. So $\Ord + 1$ would also be an ordinal. But then $\Ord + 1 \in \Ord$ and so $\Ord + 1 < \Ord$. But if $\alpha$ is any ordinal then $\alpha < \alpha + 1$, and we get $\Ord < \Ord$, a contradiction.
\end{proof}

The Burali-Forti paradox is why in earlier chapters I was careful to only speak of the \emph{collection} of all ordinals, and never call it a set. With this knowledge now in hand, let me remark that I made the same linguistic move elsewhere. Later in this chapter, after we've seen the basic axioms for set theory, we'll revisit the issue of what we mean when we talk about collections too big to be sets. For now, let me just say that none of the results in the earlier chapters are problematic.

Given these paradoxes we have a few options. One is to stick our heads in the sand and declare it doesn't matter and that we'll leave someone else to worry about it. While that option is popular among some, it is the coward's approach. Another approach is to throw out set theory entirely. But the elements of the discipline are ubiquitously useful in mathematics, so that's undesirable. The remaining option is to revise our flawed conception of set to produce something that doesn't fall prey to the paradoxes. At the same time, we don't want so restrictive a conception that we can't do anything with the resulting set theory. (Consider: you could trivially resolve the problem by declaring the only set is the empty set, but that's not useful for anything.) We want as much power as possible without crossing into paradox.

This was the option Russell himself took. His diagnosis of the problem was that the paradox was due to ``vicious circles'' like defining a set of all $x$ so that $x \not \in x$. Definitions like that are \emph{impredicative}, meaning that the object being defined is among the objects being quantified over. Indeed, the contradiction arises precisely because we ask whether $R$ itself falls under the definition. He worked to come up with a formal system for mathematics which would avoid vicious circles, in his epic three volume \textit{Principia Mathematica} with Alfred Whitehead. This book marked the invention of \emph{type theory}, where mathematics is stratified into a hierarchy of more and more complicated objects, with objects of larger type being built from objects of smaller type.

We know today that the two parts of Russell's response---avoiding impredicative definitions and having a hierarchy of objects---can be separated and that each one individually is sufficient to stave off Russell's paradox and its cousins.
For example, W.V.O. Quine's formal set theory known as New Foundations takes the first response but not the second. And Zermelo--Fraenkel set theory, the dominant approach to set theory today, takes the second response but not the first. It is the $\ZF$-style approach we take in this class.

Briefly, the big idea behind the $\ZF$ picture for sets is that the problem with the Russell set and other paradoxical objects is that they are too big to be sets. We will restrict sets to only be those collections which can be found by iterating the powerset operation along an ordinal. This will avoid the paradoxes like Russell's because the `sets' involved are too big to be obtained in that way. 

Next section contains an intuitive sketch of this view of what sets are, the \emph{cumulative hierarchy view}. After that we'll jump into the formal details and understand how the basic axioms of set theory describe this picture of what sets are.

\subsection*{Exercises}

\begin{enumerate}
\item Show that if there is a set of all cardinals you can derive a contradiction.
\end{enumerate}

\newpage

\section{The cumulative hierarchy, informally}

Let me start with a caution sign: This is not a history of mathematics text. The history of the development of set theory is more complicated than what is sketched here. It took decades for these concepts to be understood and to crystallize into the forms we now use today. The point of this section is not to give you a nuanced understanding of history, but rather to convey an intuitive picture of the mathematical structure we will study in this chapter.\footnote{This is not to disparage studying the history of set theory or, more broadly mathematics. I think it's interesting and there's some good sources to read on it. But that's better as something to look at after you've studied the purely mathematical side of things.}

Namely this structure is the \emph{cumulative hierarchy of sets}. The trouble with the Chapter 0 definition of set is that it was too permissive; it allowed paradoxical objects to slip in. Rather than take a ``top-down'' approach where we legislate at once what all the sets are, we will take a ``bottom-up'' approach where we inductively build up more and more things to be part of the universe of sets. 

To introduce the idea, let's start with a bunch of mathematical objects that are not themselves sets---numbers and the like. Call these \emph{urelements} and they form the stage $0$ objects. Let's not fuss about what we include with the urelements, as we'll soon dispense with them entirely. Stage $1$ introduces our first sets: any set of urelements. Phrased differently, stage $1$ consists of all sets which are elements of $\powerset(U)$, where $U$ is the set of all urelements. (We are justified in calling it a set because we added it in stage $1$.) But is $\powerset(U)$ a set? We'd like it to be, but it's not a stage $1$ set. So let's add it in stage $2$. As a first attempt, say that stage $2$ consists of all sets which are elements of $\powerset(\powerset(U))$.

This first try isn't quite what we want. The trouble is it doesn't allow sets of mixed type. We have the stage $1$ sets, whose elements are urelements, and we have the stage $2$ sets, whose elements are stage $1$ sets. But we don't have sets, like $\{7,\Nbb\}$, whose elements can be either urelements or stage $1$ sets. (These sets may be a bit weird, but if we're going to have a general concept worth a damn we have to include some weird sets.) The fix is easy though: the stage $2$ sets are the sets whose elements are either stage $1$ sets or urelements. Let's rephrase this to a simpler statement, one which is easier to generalize: the stage $2$ sets are the sets whose elements are objects of stage $<2$.

In general, the inductive step goes like this. Having already constructed stages $0$ through $n$, stage $n+1$ gives us sets whose elements are objects of stage $<n+1$.

This gives us all finite index stages, but we can keep going. We can have a stage after all the finite index stages, call it stage $\omega + 1$, to consist of sets whose elements are objects of stage $n$ for some finite $n$. Then go again: stage $\omega+2$ gives sets whose elements are objects of stage $<\omega+2$. And so on to define stage $\omega+n$ for all finite $n$. And then we can go past another limit stage to get stage $\omega \cdot 2 + 1$ consisting of sets whose elements are objects of stage $n$ or stage $\omega+n$ for some finite $n$.

Having the basic idea in mind, let me return to the remark that it doesn't really matter what we take as the urelements. Suppose, for instance, that we had the real numbers among the urelements but not the complex numbers. Is this a problem? It turns not to be. We can build an isomorphic copy of $\Cbb$ from pairs of real numbers, so by going up a few stages in the iterative construction we get a copy of $\Cbb$. (Technical detail: to do this, we need to be able to code ordered pairs as sets. There's multiple ways to do this. Perhaps the best known is Kuratowski's $(x,y)=\{\{x\},\{x,y\}\}$, which we will see more of later this chapter.)

What if we didn't start out with the real numbers in the urelements? We can construct $\Rbb$ as certain sets of rational numbers.\footnote{The two most popular options are via \emph{Dedekind cuts} or via \emph{Cauchy sequences}.}
And rational numbers can be constructed as equivalence classes of natural numbers. So if we have the natural numbers we can find a copy of $\Rbb$ as a set of sets of \dots of sets of natural numbers, in some finite stage of our construction. Indeed, it turns out we don't need any non-set objects: as we'll explore later, any mathematical object can be coded by a set, possibly in a very complicated manner. 

Because we can code any mathematical object as a set, it suffices to have sets as our only objects and to completely dispense with urelements. This is the standard approach among set theorists, because the parsimony makes some arguments simpler. And the cost is nil, because once you know you have a copy of a mathematical object you can just use it and not worry about where it came from. Like how after showing you can construct real numbers as Dedekind cuts you can just work with real numbers and not worry about the implementation details. But if you prefer to include non-set objects, there's no harm. It's known that the two approaches are equivalent, proving the same theorems. 

With this simplified ontology, our starting stage $0$ is to start with nothing, and build up from there. Let $\Vrm_\alpha$ denote the set of all sets which appear by stage $\alpha$. (This is a set, because $\Vrm_\alpha$ appears by stage $\alpha+1$.) We can then give the following definition by induction on $\Ord$, which we have seen before and which amounts to a distillation of the above explanation:

\begin{itemize}
\item $\Vrm_0 = \emptyset$;

\item $\Vrm_{\alpha+1} = \mathcal P(\Vrm_\alpha)$; and

\item $\Vrm_\gamma = \bigcup_{\alpha < \gamma} \Vrm_\alpha$ if $\gamma$ is a limit stage.

\item Finally, the sets are exactly those objects which occur at some stage $\alpha$ of this iterative construction, where the stages are the ordinals.
\end{itemize}

Recall some properties of this hierarchy we proved back in Section 6 of Chapter 1. Each $\Vrm_\alpha$ is \emph{transitive}, meaning that $x \in y \in \Vrm_\alpha$ implies $x \in \Vrm_\alpha$. And if $\alpha \le \beta$ then $\Vrm_\alpha \subseteq \Vrm_\beta$. This is why it's sufficient to only take powersets in the definition; we get for free that previous stages are included and so don't have to worry about the mixed type problem. 

Observe that at the limit stages we don't add any new sets, we just collect what we've seen so far. So new sets only appear at successor stages of the construction. (This is why, in the earlier gloss with urelements, we skipped limit ordinals for the indices.) Given a set $x$ you can define its \emph{rank} as the least ordinal $\alpha$ so that $x \in \Vrm_{\alpha+1}$ then the rank is always a successor. 

In all, what the cumulative hierarchy gives us is a hierarchy for the universe of sets. This then gives natural sub-universes. For example, most of contemporary mathematics can be understood as appearing in $\Vrm_{\omega + \omega}$. But if you need sets of higher rank then you can go to a larger $\Vrm_\alpha$. Experience tells us that any piece of mathematics appears in some, possibly very large, stage of this construction.

Why does the cumulative hierarchy definition of sets not fall prey to the paradoxes of size? Take Russell's paradox. To make it work we'd need that $R = \{ x : x \not \in x \}$ appears in some $\Vrm_\alpha$. But you can check that $\Vrm_\alpha \not \in \Vrm_\alpha$. So $R$ would have to have rank $> \alpha$ for every $\alpha$; that is, $R$ is not actually a set.
What about Burali-Forti paradox? In chapter 1 we saw that $\Vrm_\alpha \cap \Ord = \alpha$. So there's no stage in the construction at which we have all the ordinals. Thus we cannot get the paradox. In general, collections which are paradoxical because they are too large will never be sets, because their rank would have to be $>\alpha$ for every $\alpha$.

Does this mean we have an airtight proof that there are no other, more subtle paradoxes lurking? No. G\"odel's incompleteness theorems teach us that we can never have complete confidence we have avoided paradoxes. But we do know that the known ones are avoided, with a uniform explanation for why. We also have nearly a century of work about this structure, and no one has found a contradiction in the basic axioms. Indeed, we can go much stronger than the basic axioms and still no one has found a contradiction, despite some very clever attempts. 

\newpage


\section{The axioms of set theory}

Now that we have idea what the subject matter of set theory is---the cumulative hierarchy---let's isolate some basic axioms that describe this picture. After that we we will see that these basic axioms suffice to do not just everything from the previous chapters, but most of mathematics as a whole.

We'll take a parsimonious approach, where the only basic non-logical concepts are set and membership equality. Everything else will be defined in terms of these two concepts.\footnote{Using tools from logic, naturally. Usual practice is to treat equality as a logical concept, so we have that too.}
Membership $\in$ is a binary relation---whose properties will be explicated in the axioms---and sets are those objects which can be to the right of the membership relation. Indeed, the only objects we'll have are sets, so sets could be defined as those objects $x$ for which $x = x$. 

Let's see a few examples to get a taste for how to define other concepts in terms of these. 
\begin{example}\ 
\begin{enumerate}
\item $x \subseteq y$ means that for all objects $z \in x$ we have $z \in y$. Or in symbols:
\[
x \subseteq y \qquad \iff \qquad \forall z\ z \in x \impl z \in y.
\]
\item $x \cap y = z$ means that for all objects $w$ we have $w \in z$ if and only if $w \in x$ and $w \in y$.
\item $x \cup y = z$ means that for all objects $w$ we have $w \in z$ if and only if $w \in x$ or $w \in y$.
\item $x \setminus y = z$ means that for all objects $w$ we have $w \in z$ if and only if $w \in x$ but $w \not \in y$.
\item $\powerset(x) = y$ means that for all objects $z$ we have $z \in y$ if and only if $z \subseteq x$. (As we saw earlier, we could write ``$z \subseteq x$'' just using $\in$.)
\end{enumerate}
\end{example}

We will see more examples as we go along.
\smallskip

Let's start with some axioms that establish the basic properties of sets.

\begin{definition}
The \emph{Extensionality} axiom defines membership. It asserts that two sets are equal if and only if they have the same members. In symbols
\[
\tag{Extensionality}
\forall x \forall y (x = y \iff \forall z\ z \in x \iff z \in y)
\]
\end{definition}

This axiom gives the meaning of equality for sets. It formally justifies the double inclusion method of proving two sets are equal: to prove $x = y$ prove both $x \subseteq y$ and $y \subseteq x$.

\begin{definition}
The \emph{Pairing} axiom asserts that you can pair together any two objects into a set. That is, if $x$ and $y$ are any two objects there is a set $p = \{x,y\}$. In symbols
\[
\tag{Pairing}
\forall x \forall y \exists p \forall z (z \in p \iff [z = x \mor z = y])
\]
\end{definition}

Note that ``$\forall z (z \in p \iff [z = x \mor z = y])$'' is how we expressed $p = \{x,y\}$ just using $\in$. By a similar process you can express $x = \{a\}$, $x = \{a,b,c\}$, and so on.

\begin{definition}
The \emph{Union} axiom asserts that you can take a union of a set of sets. That is, if $x$ is a set then so is $\cup x = \{ y : y \in z$ for some $z \in x\}$. In symbols
\[
\tag{Union}
\forall x \exists u (y \in u \iff \exists z \in x\ y \in z)
\]
\end{definition}

Observe that using these axioms we can prove that $x \cup y$ is always a set for any $x$ and $y$. Namely, Pairing tells us that $p = \{x,y\}$ is a set and Union tells us that $\cup p = x \cup y$ is also a set.
\smallskip

I hope that these three axioms are all completely uncontroversial. The next one needs a little bit of discussion, as it's dangerously close to an inconsistent axiom.

Speaking informally the Separation axiom asserts that you can form subsets of a given set by separating out its elements satisfying some property. For example, if you have $\Nbb$ is a set you could define the set $\{ n \in \Nbb : n$ is a perfect square$\}$. 

It will also be convenient to introduce some new terminology before we officially state this axiom. We know that some collections are too big to be sets. Since the only objects are sets, these can't be actual objects. But talk of collections such as $\Ord$---the collection of all ordinals---is convenient. We treat a class as a short-hand for a definition we express just in terms of $\in$. For example, we will later define ``$x$ is an ordinal'' by
\[
\forall y,y' \in x\ (y \in y' \mor y = y' \lor y' \in y) \mand \forall y \in x\ \forall z \in y\ z \in x.
\]
We will treat ``$\alpha \in \Ord$'' as an abbreviation for that definition, so that we don't have to write it out every time. Similarly we can make sense of expressions like $x \cap \Ord$ as referring to the set $\{y \in x : y \in \Ord\}$, where this use of set-builder notation is shorthand for a longer definition just using $\in$.

In general, a \emph{class} is an abbreviation for a definable property. Some classes are small enough that they are \emph{co-extensive} with sets---meaning they have the same elements. For example, the empty class abbreviates the property $x \ne x$. It has the same elements as the empty set. Or given any set $a$ there's a class for the property $x \in a$. If a class is not co-extensive with a set we call it a \emph{proper class}. For example, $\Ord$ is a proper class, by the Burali-Forti paradox, and the class $\Vrm$ of all sets is a proper class.

\begin{remark}
It's very convenient to think about classes as collections. This is fine to do, provided one keeps in mind a couple rules.
\begin{enumerate}
\item Classes cannot occur to the left of $\in$. It wouldn't make sense, for example, to write $\Ord \in x$.
\item You cannot quantify over classes. It's fine to define things by quantifying over sets, but quantifying over classes would amount to quantifying over definitions, which is logically problematic.
\end{enumerate}
\end{remark}

With this in mind, let's officially state Separation.

\begin{definition}
The \emph{Separation} axiom asserts that for any set $x$ and any class $A$ we have that $x \cap A = \{ y \in x : y \in A \}$ is a set. In symbols:
\[
\tag{Separation}
\forall x \exists y\ y = x \cap A.
\]
\end{definition}

\begin{remark}
Didn't I just say that you can't quantify over classes, so why does this axiom seem to quantify over classes? To be precise, this is not a single axiom, but rather an \emph{axiom schema} giving infinitely many axioms: for each definition $\phi(x)$ giving a class $A$ we have a different axiom. For more advanced uses, that Separation is infinitely many axioms matters. But for our purposes it's fine to think of as a single axiom.
\end{remark}

This axiom justifies a use of set-builder notation to define sets. When you define, for example, 
\[
E = \{ n \in \Nbb : \exists k\ n = 2k \}
\]
it's Separation that says it's allowed to separate $\Nbb$ into the smaller subset of evens. Compare, on the other hand, the definition
\[
R = \{ x : x \not \in x \}.
\]
This definition is not allowed under Separation, because we're not separating out elements from an extant set, we're trying to collect across the entire universe of sets. And it's good this definition isn't allowed, because it leads to a contradiction!

Separation also justifies the ideas that proper classes are those which are too big to be a set. Namely, if a class is contained in a set then that class is the same as a set.

\begin{proposition}
Suppose a class $A$ is a subset of a set $x$. Then $A$ is co-extensive with a set.
\end{proposition}

Thinking of this without the abbreviation, we're saying that if a property $\phi$ has the property that there is a set $x$ so that $\phi(y)$ implies $y \in x$ then $\{ y : \phi(y) \}$ is a set.

\begin{proof}
By Separation $x \cap A = \{ y \in x : \phi(y) \}$ is a set. Done.
\end{proof}

The Separation axiom is quickly seen to be a consequence of the cumulative hierarchy view.

\begin{proposition}
If $x \in \Vrm_\alpha$ and $A$ is any class then $x \cap A \in \Vrm_{\alpha + 1}$. 
\end{proposition}

\begin{proof}
We proved back in Chapter 1 that $\Vrm_\alpha$ is transitive---any element is a subset. So we get that $x \cap A \subseteq x \subseteq \Vrm_\alpha$ and so $x \cap A \in \powerset(\Vrm_\alpha) = \Vrm_{\alpha + 1}$.
\end{proof}

Separation also justifies the use of other basic set theoretic operations.

\begin{proposition}
Let $x$ and $y$ be sets. Then $x \cap y$ and $x \setminus y$ are also sets.
\end{proposition}

\begin{proof}
Because $x \cap y = \{ z \in x : z \in y \}$ and $x \setminus y = \{ z \in x : z \not \in y \}$ are sets by Separation.
\end{proof}

The next axioms we look at are about the height of the universe of sets. The idea was, remember, that we generated the universe by iterating the powerset operation along all the ordinals. But what is \emph{all the ordinals}? How do we say how many ordinals there are? 

First off, for this idea to even make sense in the first place we need that we can take powersets. The next axiom says we can do just that.

\begin{definition}
The \emph{Powerset} axiom asserts that every set has a powerset. In symbols:
\[
\tag{Powerset} \forall x \exists y\ \forall z\ (z \in y \iff z \subseteq x)
\]
This $y$ is the \emph{powerset} of $x$, and we call it $\powerset(x)$.
\end{definition}

\begin{remark}
The Extensionality axiom implies that the powerset of $x$ is unique. If there are $y$ and $y'$ both satisfying that property then it must be that $y = y'$. So we are justified in talking about \emph{the} powerset.
\end{remark}

Like Separation, Powerset is readily seen to be true.

\begin{proposition}
If $x \in \Vrm_\alpha$ then $\powerset(x) \in \Vrm_{\alpha+2}$.
\end{proposition}

\begin{proof}
If $y \subseteq x$ then $y \subseteq \Vrm_\alpha$ because $x \subseteq \Vrm_\alpha$. Thus, $\powerset(x) \subseteq \Vrm_{\alpha+1}$ and so $\powerset(x) \in \Vrm_{\alpha+2}$.
\end{proof}

The Powerset axiom implies we can always build the cumulative hierarchy one more step. If we have $\Vrm_\alpha$ then we also have $\Vrm_{\alpha + 1} = \powerset(\Vrm_\alpha)$.

But it's not enough to be able to go $+1$. We want to go further, infinitely further.
At minimum, there should be an infinite step in the process. 

\begin{proposition}
Every element of $\Vrm_\omega$ is finite.
\end{proposition}

\begin{proof}
By induction prove that $\card{\Vrm_n} = 2^{2^{{\iddots^2}}}$ (with $n$ many $2$s). And any element of $\Vrm_\omega$ is a subset of some $\Vrm_n$, and any subset of a finite set is finite.
\end{proof}

Thus, if we want infinite objects such as $\Nbb$ or $\omega_1$---and we do!--then we need transfinite steps in the cumulative hierarchy.

The next axiom says that there's a set that's a copy of $\Nbb$, and hence an infinite ordinal. And once we have $\omega$ we can recursively build up $\Vrm_\omega$ and then beyond. But we have to be careful how to phrase this idea; how do you say that something is infinite without already having $\Nbb$ as an object?

\begin{definition}
The \emph{adjunction} of a set $x$ with itself is the set $x \cup \{x\}$. Call a set $I$ \emph{adjunction inductive} if $\emptyset \in I$ and for every $x \in I$ we have that $x \cup \{x\} \in I$.\footnote{In most texts, such $I$ is simply called \emph{inductive}. I use the slightly nonstandard terminology to emphasize that it's a specific implementation of $+1$ we're looking at.}
\end{definition}

Note that the Pairing and Union axioms imply that the adjunction of $x$ with itself always exists. (Why?) Think of this as a construction of $\Nbb$ by iterating the successor operation starting from $0$. We need a set to be zero; we pick the empty set. Then we need to say what $n + 1$ is; we say it's $n \cup \{n\}$. This way of formalizing $+1$ with just sets should look familiar if you think back to Chapter 1.

\begin{definition}
The \emph{Infinity} axiom asserts that there exists an adjunction inductive set. In symbols:
\[
\tag{Infinity}
\exists x\ (\emptyset \in x \mand \forall y \in x\ y \cup \{y\} \in x)
\]
\end{definition}

Three comments. First, we're really starting to see the advantage of using defined relations and not breaking everything down to just $\in$. You could write the Infinity axiom just using $\in$, but you'd need a lot more quantifiers and it'd be awful to read.

Second, this is the first and only axiom of set theory which begins with an existential quantifier. Every other one begins with a universal quantifier. So this axiom also plays the role of saying there exist any sets at all!

\begin{proposition}
Assuming Infinity + Separation, the empty set exists.\footnote{Being really careful, calling it \emph{the} empty set requires Extensionality.}
\end{proposition}

\begin{proof}
By Infinity there exists a set, call it $y$. So $\{x \in y : x \ne x\} = \emptyset$ is also a set by Separation.
\end{proof}

Third, once we have that there's any adjunction inductive set we can prove there's a smallest one. 

\begin{proposition}
There is a smallest adjunction inductive set. That is, there is an adjunction inductive set $I$ which is a subset of every adjunction inductive set.
\end{proposition}

\begin{proof}
Let $J$ be an adjunction inductive set, which exists by the Infinity axiom. Define
\[
I = \{ x \in J : x \text{ is in every adjunction inductive set}\},
\]
which is a set by Separation. It's clear by construction that $I$ is a subset of any adjunction inductive set, so we have only to prove that $I$ is adjunction inductive. First, note that $\emptyset \in I$ because $\emptyset$ is an element of every adjunction inductive set. Now assume $x \in I$. Let $K$ be any adjunction inductive set. Then $x \in K$ so $x \cup \{x\} \in K$. Since this holds for any $K$, we get $x \cup \{x\} \in I$.
\end{proof}

One of the problems in the Chapter 1 problem set was to prove that any linear order with a successor operation and satisfying induction was isomorphic to $\Nbb$. This smallest adjunction inductive set $I$ is such a linear order, so it's isomorphic to $\Nbb$. (Okay, we didn't define $I$ as a linear order. But you can make it one: set $x < y$ if $y$ is obtained from $x$ by iterating adjunction.) Thus we have that $\Nbb$ is a set. Indeed, this $I$ is exactly the ordinal $\omega$. (But let's put off to talking about how we get ordinals in general until after we've seen more axioms.)

\begin{definition}
The axioms listed so far---Extensionality, Pairing, Union, Separation, Powerset, and Infinity---make up the theory known as \emph{Zermelo set theory}, denoted $\Zsf$.
\end{definition}

The next axiom we'll look at says there's even more stages to the construction of the universe than just $\omega$ many. When you first see it, it's probably not clear why that's something it implies. To motivate it, let's look at a toy model.

\begin{theorem}
Every axiom of $\Zsf$ is true in $\Vrm_{\omega+\omega}$. 
\end{theorem}

\begin{proof}[Informal Proof]
A completely formal proof of this fact relies on a careful definition of what it means for an axiom of set theory to be true in a set. This definition (or rather, a generalization to axioms and structures of any kind) is a building block of the area of mathematical logic known as \emph{model theory}. But we will proceed with a naive notion of truth.

Extensionality is true because it's true for all sets, not just those in $\Vrm_{\omega+\omega}$. Pairing is true because if $x,y \in \Vrm_\alpha$ then $\{x,y\} \in \Vrm_{\alpha+1}$. (Why?) Union is true because if $x \in \Vrm_\alpha$ then $\cup x \in \Vrm_\alpha$. (Why?) Separation is true because if $x \in \Vrm_\alpha$ then $y = \{ z \in x : \phi(z)\}$ is a subset of $\Vrm_\alpha$ and hence in $\Vrm_{\alpha+1}$. Powerset is true because if $x \in \Vrm_\alpha$ then $\powerset(x) \in \Vrm_{\alpha+1}$. And Infinity is true because $\omega$ is adjunction inductive.
\end{proof}

\begin{remark}
There is a subtlety which must be addressed. When we say an axiom is true in $\Vrm_{\omega+\omega}$, we mean that if you restrict the quantifiers to only quantify over $\Vrm_{\omega+\omega}$ then the statement is true. But when you restrict quantifiers you might change what's happening. With Separation, the set defined by $\{ n \in \omega : \phi(n) \}$ can change based on whether $\phi$ quantifies over all sets, or just over the sets in $\Vrm_{\omega + \omega}$. For example, consider $\phi(n)$ to be ``$\omega \cdot n$ exists''. Then $\phi(n)$ is true for every $n \in \omega$ if we quantify over the whole universe, but only $\phi(0)$ and $\phi(1)$ are true if we quantify just over $\Vrm_{\omega + \omega}$.

This subtlety doesn't matter for our proof. We still get Separation is true anyway, because whatever subset of $x \in \Vrm_{\omega + \omega}$ is defined by a property $\phi$, it's still a subset of $x$ so it's still in $\Vrm_{\omega + \omega}$. But if you look at less thick structures then the difference does matter.

As an extreme example of this: the property ``$x$ is uncountable'' can change from true to false if you restrict where you quantify.
\end{remark}

The upshot of this theorem is that $\Zsf$ cannot prove that $\Vrm_{\omega+\omega}$ exists. After all, every axiom of $\Zsf$ is true in $\Vrm_{\omega + \omega}$ and yet $\Vrm_{\omega + \omega}$ is not an element of $\Vrm_{\omega + \omega}$. If we want to guarantee the universe grows beyond $\omega + \omega$ many stages we need stronger axioms. The Replacement axiom gives us this.

Replacement is about class functions. Remember that we are thinking of classes as abbreviations for definable properties. So a class function is an abbreviation for a property $\phi(x,y)$ that defines a function---for each $x$ there is at most one $y$ so that $\phi(x,y)$ is true.\footnote{If there were multiple $y$ for one $x$ then there wouldn't be a unique choice for $F(x)$---it wouldn't be a function.} It's just more convenient to write $F(x) = y$ rather than talk about definitions.

\begin{definition}
``$F$ is a class function'' is an abbreviation for $F(x) = y$ is defined by a formula $\phi(x,y)$, and for every $x$ there is at most one $y$ so that $\phi(x,y)$ is true. We can similarly talk about class functions of more than one input.
\end{definition}

For example, the function $x \mapsto \card{x}$ is a class function. For another example, $\alpha \mapsto \Vrm_\alpha$ is a class function. The arithmetic operations on cardinals and ordinals are all class functions.\footnote{There's something to be said here. Many of these functions were defined by recursion, so are they really class functions---i.e. are they really definable? It turns out that a consequence of Replacement is that definitions of class functions by transfinite recursion are valid.}

\begin{definition}
The \emph{Replacement} axiom asserts that the image of a set under a class function is a set. In symbols, with $F$ being a class function:
\[
\tag{Replacement}
\forall a \exists b \forall x \in a \exists y \in b\ F(x) = y.
\]
\end{definition}

\begin{remark}
Again, we aren't actually quantifying over classes. Technically this is infinitely many axioms given by a single schema.
\end{remark}

\begin{remark}
The set $b$ Replacement says exists isn't guaranteed to be \emph{exactly} the image of $a$ under $F$. There could be other elements of $b$. But we can use Separation to cut this set down to just the image of $a$ under $F$.

The point is, it's enough to say that there's a set which contains the image of $a$, so we use this simpler thing to be the official axiom.
\end{remark}

Replacement justifies one of the variants of set-builder notation. You might define, for example, a set
\[
\{ \Vrm_{\omega + n} : n < \omega \}.
\]
This set is the image of the function $n \mapsto \Vrm_{\omega + n}$. Replacement exactly says that it really is a set.

Let's see an example of how Replacement gets applied.

\begin{proposition}
Let $(X,\le)$ be a well-ordered set, with $\xi$ its order type. Then $\Vrm_\xi$ exists.
\end{proposition}

\begin{proof}
By doing transfinite recursion along $X$ we can define the sequence $\seq{\Vrm_\alpha : \alpha < \xi}$. Sequences are, remember, just functions, so we have a class function. Replacement tells us that its image $I = \{ \Vrm_\alpha : \alpha < \xi \}$ exists. Now we split into cases. (Zero) If $\xi = 0$ then $\Vrm_\xi = \emptyset$ exists. (Successor) If $\xi = \alpha + 1$, then we know $\Vrm_\alpha$ exists because its an element of $I$. So $\Vrm_\xi = \powerset(\Vrm_\alpha)$ exists by Powerset. (Limit) If $\xi$ is limit then $\Vrm_\xi = \cup I$ exists by Union.
\end{proof}

As a specific example, using Replacement we can prove that $\Vrm_{\omega + \omega}$ exists. Using the axioms of $\Zsf$ we can get a well-order of order type $\omega + \omega$: order the natural numbers as evens followed by odds. The proposition then implies that $\Vrm_{\omega + \omega}$ exists. In general, Replacement implies that if you can define a set of ordertype $\xi$ then you can build the $\Vrm_\alpha$ hierarchy up through $\xi$.

Contrast with the following fact.

\begin{observation}
$\Zsf$ cannot prove that $\Vrm_{\omega + \omega}$ exists.
\end{observation}

\begin{proof}
The reason for this is, we saw earlier that every axiom of $\Zsf$ is true in $\Vrm_{\omega + \omega}$. But if $\Zsf$ could prove that $\Vrm_{\omega + \omega}$ exists, then that would be true in every structure satisfying all of $\Zsf$. But $\Vrm_{\omega +\omega}$ is not an element of itself. 
\end{proof}

The upshot is, Replacement guarantees that that the iterative hierarchy goes as high as possible. It does a lot more than that, and there's still much to say, but let's put that off for now.
\smallskip

What Replacement doesn't tell us is that the universe of sets consists \emph{only} of the sets in the $\Vrm_\alpha$ hierarchy. To say there no sets outside we need a different axiom. This is given by the Foundation axiom.

When we talked about well-orders, their defining property was well-foundedness. But you don't need a relation to be a linear order for well-foundedness to make sense. You can ask if any binary relation is well-founded.

\begin{definition}
Let $\vdash$ be a binary relation on a set $X$. (That is, $\mathord{\vdash} \subseteq X^2$.) Then $\vdash$ is \emph{well-founded} if it satisfies: for any nonempty $Y \subseteq X$ there is $m \in Y$ so that no $y \in Y$ has $y \vdash m$.
\end{definition}

To match with our definition for linear orders, saying that $m$ is the minimum of $Y$ is saying that there is no $y \in Y$ with $y < m$. 

\begin{definition}
The \emph{Foundation} axiom says that the membership relation $\in$ is well-founded. That is, if $x$ is any nonempty set then there is $m \in x$ so that no $y \in x$ has $y \in m$. In symbols:
\[
\tag{Foundation}
\forall x\ x \ne \emptyset \impl \exists m \in x \forall y \in x\ y \not \in m.
\]
\end{definition}

\begin{definition}
\emph{Zermelo--Fraenkel set theory} $\ZF$ is the set theory with axioms Extensionality, Pairing, Union, Separation, Powerset, Infinity, Replacement, and Foundation. That is, $\ZF$ is $\Zsf$ plus Replacement and Foundation.
\end{definition}

We used well-foundedness to see that you can do induction along well-orders. For this to work, you don't need the linear order part, you only need well-foundedness. Of course, if your relation is not a linear order then it's not going to be ordered like a line. Instead, the induction will be along a more complicated pattern, such as a tree. That's fine, we can do that.

\begin{theorem}
Let $\vdash$ be a well-founded relation on a set $X$. Then, induction is valid along $\vdash$. That is, suppose $Y \subseteq X$ has the property that for all $y \in Y$ if every $x \vdash y$ has $x \in Y$ then $y \in Y$. Then, $Y = X$.
\end{theorem}

\begin{proof}
This is the same as what we saw before with well-orders. Suppose otherwise toward a contradiction. By well-foundedness there is a minimal element $m$ of $X \setminus Y$. That is, $m \not \in Y$ but $x \in Y$ for every $x \vdash m$. But then we'd get that $m \in Y$, a contradiction.
\end{proof}

This fact also holds for well-founded class relations, provided that the relation is ``locally'' a set.

\begin{theorem}
Let $\vdash$ be a well-founded class relation on a class $X$ with the property that for every $x \in X$ we have $\{ y : y \vdash x \}$ is a set. Then induction is valid along $\vdash$. That is, suppose $Y \subseteq X$ has the property that for all $y \in Y$ if every $x \vdash y$ has $x \in Y$ then $y \in Y$. Then, $Y = X$.
\end{theorem}

The most useful instance of this theorem is when the relation is the order relation on $\Ord$.

\begin{remark}
Again, we seem to be quantifying over classes. We avoid this similar to how we avoided it with the Separation and Replacement axioms. Technically, this isn't a single theorem, but rather a \emph{theorem schema} giving infinitely many theorems. For any definitions $\phi(x,y), \chi(x), \upsilon(x)$ giving appropriate $\vdash$, $X$, and $Y$ we have that $\chi(x)$ iff $\upsilon(x)$.
\end{remark}

\begin{proof}
Suppose $Y \ne X$ and pick $x \in X \setminus y$. Then $\vdash$ restricted to $X_0 = \{ y : y \vdash x \} \cup \{x\}$ is a well-founded relation on a set. So by induction on sets we get that $Y \cap X_0 = X_0$ and so $x \in Y$, a contradiction.
\end{proof}

\begin{definition}
Let $\Vrm$ denote the class of all sets. Since our only objects are sets, we may formally define $\Vrm = \{ x : x = x \}$.
\end{definition}

\begin{theorem}[In $\ZF$]
Every set is in $\Vrm_\alpha$ for some $\alpha$. That is, 
\[
\Vrm = \bigcup_{\alpha \in \Ord} \Vrm_\alpha.
\]
\end{theorem}

\begin{proof}
We prove this by induction on $\in$. To that end, fix a set $x$ and assume that for every $y \in x$ there is an ordinal $\alpha_y$ so that $y \in \Vrm_{\alpha_y}$. Without loss of generality we assume $\alpha_y$ is the smallest ordinal for which this happens. Then $y \mapsto \alpha_y$ is a class function, so Replacement tells us that the set $\{ \alpha_y : y \in x \}$ exists. Let $\alpha = \sup_{y \in x} \alpha_y$. Then $y \in \Vrm_\alpha$ for all $y \in x$. That is, $x \subseteq \Vrm_\alpha$ and so $x \in \Vrm_{\alpha + 1}$. 

By induction, we've proved this for every set $x$. Done.
\end{proof}

By a similar argument we can show that there is a \emph{rank function} on the ordinals, so that elements of a set must have a smaller rank.

\begin{definition}
Define the \emph{rank function} $\rho : \Vrm \to \Ord$ on sets as:
\[
\rho(x) = \sup \{ \rho(y) + 1 : y \in x \},
\]
where we stipulate that $\sup \emptyset = 0$ (and so $\rho(\emptyset) = 0$).
\end{definition}

This rank function more-or-less tells you which $\Vrm_\alpha$ first has $x$ appear within. Let me state this result without proof.

\begin{fact}
$\rho(x)$ is the least $\alpha$ so that $x \in \Vrm_{\alpha + 1}$.
\end{fact}

There's still one more axiom to go, Zermelo's axiom of choice. But before we see it, let's take some time to see what mathematics we can do with what we have so far.

\subsection*{Exercises}

\begin{enumerate}
\item Write out as many axioms as you can using just $\in$ and $=$, with no abbreviations or defined concepts.
\end{enumerate}

\newpage

\section{Working with the axioms}

In the previous section we saw the axioms of $\ZF$ and talked about why they are true in the cumulative hierarchy. What we do in this section is see that they are sufficient to do a lot of mathematics. 

So far what we have seen is that the axiom of Infinity guarantees we have a copy of $\Nbb$ in the cumulative hierarchy. But we need a lot more than just that to do mathematics. 

A lot of mathematics is built on top of the basic notion of an ordered pair. Functions and relations both built from ordered pairs. And these are used to define many notions in mathematics: groups, isomorphisms, orders, equivalence classes, and many, many more. For example, once we have ordered pairs we can define the cartesian product of a set using ordered pairs. A relation on $X$ is then a subset of $X \times X$ and a function $X \to Y$ is a subset of $X \times Y$ satisfying certain properties. We then define linear orders as relations satisfying appropriate axioms, and an isomorphism between linear orders is a function so that [blah blah]. 

But how do we define an ordered pair using just sets? After all, the whole point of an ordered pair is to be ordered, while sets are not ordered. If we want a way to code ordered pairs as sets, we need a way to code the first element of the pair versus the second. There's a few ways to do this. Kuratowski's is especially nice.

\begin{definition}[Kuratowski]
The \emph{Kuratowski ordered pair} of $x$ and $y$ is the set 
\[
(x,y)_\Krm = \{ \{x\},\,\{x,y\} \}. 
\]
An object is the first element of $(x,y)_\Krm$ if it is an element of every element of $(x,y)_\Krm$ and it is the second element if it is in exactly one element of $(x,y)_\Krm$.

Usually we will just write $(x,y)$.
\end{definition}

For example, the pair $(x,x)$ is 
\[
\{ \{x\},\,\{x,x\} \} = \{ \{x\},\,\{x\} \} = \{ \{ x \} \}.
\]
Then $x$ is the first element of that pair because it's an element of all the sets in the pair, and $x$ is also the second element of that pair because it's an element of precisely one set in the pair.

\begin{remark}
You could alternatively formalize set theory with ordered pairs as a primitive notion, similar to how `set' and `membership' were taken as primitive notions. What Kuratowski's definition shows is that these two approaches are equivalent. 

If they are equivalent, why go with the formalization where ordered pairs aren't a primitive notion? One reason is parsimony; the fewer basic concepts the fewer things to check when reasoning about your structure. Another reason is it enables such a clear picture of the cumulative hierarchy; if pairs were different kinds of objects than sets we'd have a more complicated definition than iterating the powerset operation. 

A third reason is that this conceptual simplicity helps to avoid accidental problems. For example, in Bourbaki's 1949 axiomatization of set theory, they have ordered pairs as basic objects, with a corresponding axiom asserting that for any two objects $x,y$ the ordered pair $(x,y)$ exists. But they don't assert that the unordered pair $\{x,y\}$ exists, and indeed their system cannot prove it does!\footnote{A. R. D. Mathias has a short but not particularly readable paper where he proves this: \url{https://www.dpmms.cam.ac.uk/~ardm/uprbou49pub.pdf}.}
\end{remark}

\begin{lemma}
If $x$ and $y$ are sets then their Cartesian product $x \times y = \{ (a,b) : a \in x$ and $b \in y \}$ is a set.
\end{lemma}

\begin{proof}
Note that if $a \in x$ and $b \in y$ then $\{a\}, \{a,b\}$ are elements of $\powerset(x \cup y)$, which exists by Pairing, Union, and Powerset. So $(a,b)$ is an element of $\powerset(\powerset(x \cup y))$. Applying Separation to cut down $\powerset(\powerset(x \cup y))$ we get that $x \times y$ exists.
\end{proof}

\begin{remark}
It maybe seems a tad silly to prove that cartesian products exist by using powerset a couple times. For example, $\omega \times \omega$ is countable but $\card{\powerset(\powerset(\omega))} = \beth_2$ is pretty big. You could give a more economical argument which doesn't use powersets. But it's quicker to just use a big hammer.
\end{remark}

With ordered pairs now can build up abstract objects in mathematics using functions, relations, sets, etc. But we don't just want abstract groups or topological spaces, we also want the familiar concrete objects of mathematics---$\Rbb$ and so on.

We already saw that the Infinity axiom gives us a copy of $\Nbb$ in the sets. We will just call that copy $\Nbb$. (After all, when working with $\Nbb$ it doesn't matter what the elements of $\Nbb$ are, it's only their structure that matters.) We can construct more number systems using the idea of equivalence relations. Let's first go from $\Nbb$ to $\Qbb^+$, the non-negative rationals, to illustrate the concept.

The idea is, $\Qbb^+$ consists of fractions $\frac nd$, where $n$ and $d \ne 0$ are natural numbers. This is just a pair $(n,d)$ written differently. And we need to say when two fractions are the same. This is done by the familiar algebra trick of cross multiplying:
\[
\frac nd = \frac me \qquad \iff \qquad ne = md.
\]
So we define that two pairs $(n,d)$ and $(m,e)$ represent the same rational when $ne = md$. It's straightforward enough to check that this is an equivalence relation on the pairs. And then we can define the arithmetic operations using the usual rules for fractions. For example,
\[
\frac  nd + \frac me = \frac{ne + md}{de},
\]
so we say that $(n,d) + (m,e) = (ne + md, de)$. You can check that this operation is well-defined on equivalence classes: two ways of writing the same fraction give the same sum at the end. Multiplication is defined similarly, as are subtraction and division. 

Carry out this work I just hand waved over, and what you've done is built a copy of $\Qbb^+$ out of equivalence classes on $\omega \times (\omega \setminus \{0\})$. We know $\ZF$ proves cartesian products exist, and we have Separation, so in all this gives a copy of $\Qbb^+$ in the cumulative hierarchy.

You then go from $\Qbb^+$ to all of $\Qbb$ by a similar process to add negatives. You can think of an arbitrary fraction as given by $\frac nd - \frac me$ for two non-negative fractions $\frac nd$ and $\frac me$. So we represent the whole $\Qbb$ as pairs of fractions (which are themselves pairs of natural numbers, which are themselves finite von Neumann ordinals), with an appropriate equivalence relation. And then you can define the arithmetic operations on these equivalence relations. All in all, we find a copy of $\Qbb$ in the universe of pure sets.

Alternatively, you could define $\Zbb$ from $\Nbb$ by the same idea, and then go from $\Zbb$ to $\Qbb$. That also works, but I went to fractions first because I think it's more intuitive.

Going from $\Qbb$ to $\Rbb$ requires a new idea. (This makes sense---$\Rbb$ is countable so we can't build it from a countable object like equivalence classes over $\Qbb$.) The most well known constructions of $\Rbb$ from $\Qbb$ are Dedekind's, using \emph{Dedekind cuts}, and Cantor's, using equivalence classes of Cauchy sequences of rational numbers. Briefly: Dedekind's idea is that a real $x$ can be represented by the set $\{ q \in \Qbb : q \le x \}$ and Cantor's idea is that a real $x$ can be represented by a series
\[
\sum_{n = 0}^\infty q_n
\]
of rationals $q_n$ which converges quickly to $x$. 

Exploring one (or both) of these constructions is a topic for an analysis class, or as a project for this class. So I will leave it at that quick gloss, which hopefully suffices to convince you that we can find a copy of $\Rbb$ in the pure sets. And once we have $\Rbb$ we of course get $\Cbb$ by representing $a + bi$ as a pair $(a,b)$ of reals. So we have all our familiar number systems, and can build upward on them to get continuous functions, derivatives, $\Cbb$-vector spaces, Banach spaces, and other objects of mathematics. 

This isn't enough to do all of mathematics, of course. Some areas of mathematics aren't concerned with concrete structures like $\Rbb$ but concern e.g. abstract groups or topological spaces. These can also be coded in the pure sets as well. After all, with a group you don't care what its elements are, you only care about the structure. So building a copy of $S_3$ (the permutation group on $3$ elements) can be done just fine in the pure sets---we don't care which $3$ element set we build the permutation group on!

All in all, (a copy of) any object of non-set theoretic mathematics can be found somewhere in some $\Vrm_\alpha$. Usually this is some $\alpha < \omega + \omega$, but sometimes you have to go further. And often this coding of $X$es into sets is not interesting to specialists in $X$, but you can nevertheless do it. This is why it's standard practice to take $\ZFC$---$\ZF$ plus the axiom of choice, coming soon---as the standard foundation for mathematics. Whatever your preferred branch of mathematics, you can think of it as happening within set theory.\footnote{I must footnote this with a caveat. This can really only be a statement about mathematical objects that have already been invented. How could we possibly know whether this is some new object that can't be fit into the universe of sets?

We can't, of course. It's always possible that in the future we'll discover some new thing that overturns our current understanding. But based on the fact that any mathematical object can be coded  in the pure sets, it seems reasonable to assume that will continue to happen.}
\smallskip

Knowing now that we can do non-set theory in $\ZF$, let's look at set theory in particular.

Our two important basic objects are ordinals and cardinals. The latter we defined as certain ordinals,\footnote{This uses the axiom of choice! But we will get to that soon.}
so what we need is to make sure we can talk about ordinals in the $\ZF$ framework. There's a few ways to implement a definition of ordinals in the cumulative hierarchy, the most convenient is due to von Neumann.

\begin{definition}[von Neumann]
An ordinal is a transitive set which is linearly ordered by $\in$. That is, $\alpha$ is an ordinal if
\begin{itemize}
\item (Transitive) $\gamma \in \beta \in \alpha$ implies $\gamma \in \alpha$; and
\item (Trichotomy) If $\beta,\gamma \in \alpha$ then exactly one of the following holds: $\beta \in \gamma$, $\beta = \gamma$, or $\gamma \in \beta$.
\end{itemize}
If $\alpha$ and $\beta$ are ordinals then $\alpha < \beta$ if $\alpha \in \beta$. And as usual $\alpha \le \beta$ if and only if $\alpha < \beta$ or $\alpha = \beta$.
\end{definition}

\begin{remark}
Anti-symmetry---that you can't have $\alpha < \beta < \alpha$---and irreflexvity for the strict order---that $\alpha \not < \alpha$---both are free. This is because Foundation says that $\in$ is well founded. Having $\alpha \in \beta \in \alpha$ or $\alpha \in \alpha$ would let you construct an infinite descending in the membership relation:
\[
\alpha \ni \alpha \ni \alpha \ni \alpha \ni \alpha \ni \alpha \ni \cdots
\]
\end{remark}

Let's see why this definition exactly matches the recursive definition that an ordinal $\alpha$ is the set of all ordinals $< \alpha$. That the definition of the orders match is immediate: according to either version, $\alpha < \beta$ if and only if $\alpha \in \beta$. Back in Chapter 1 we saw that ordinals (by the previous definition) were always transitive. Finally, the reason ordinals by von Neumann's definition are well-ordered is that, by Foundation, $\in$ is well-founded. So if a set is linearly ordered by $\in$ then it is well-ordered by $\in$. 

One nice fact about von Neumann ordinals is that there is a particularly canonical isomorphism from a well-order to its corresponding ordinal.

\begin{theorem}[Mostowski collapse theorem for well-orders]
Let $(A,\le)$ be a well-order. Then the recursive definition along $A$ given by $\pi(a) = \{ \pi(b) : b < a \}$ gives an isomorphism from $A$ to a von Neumann ordinal $\alpha$.
\end{theorem}

\begin{proof}
$\pi$ is defined by transfinite recursion along a well-order, so this gives a valid definition of a function. Let $\alpha$ be the range of $\pi$. We need to see that $\alpha$ is an ordinal and that $(A,\le)$ is isomorphic to $(\alpha,\in)$. First, note that by construction $b < a$ iff $\pi(b) \in \pi(a)$. That $\alpha$ is transitive is then clear: if $\pi(c) \in \pi(b) \in \pi(a)$ then $c < b < a$ so $c < a$ so $\pi(c) \in \pi(a)$. And $\alpha$ is linearly ordered by $\in$ because $<$ was a linear order.
\end{proof}

There's a more general version of the Mostowski collapse theorem, not just about linear orders. One of the problems in the problem set is to prove it.
\smallskip

With the von Neumann definition of the ordinals in hard, we almost have everything we need to get that everything in Chapter 1 can be done in $\ZF$. The one missing piece, that $\ZF$ allows transfinite recursion, will be seen next. And once we see the axiom of Choice we'll then we'll also have everything from Chapter 2. 

So why are definitions by transfinite recursion, like the one for the Mostowski collapse theorem or the definition of $\Vrm_\alpha$, valid in $\ZF$?

The point is, it's Replacement. For example, suppose you want to define $\Vrm_{\omega + \omega}$, and it's natural to do this by recursion. This amounts to defining a function with domain $\omega + \omega$, and it's Replacement which says the image $\{ \Vrm_\alpha : \alpha < \omega + \omega \}$ of this function is a set, whence you can get $\Vrm_{\omega + \omega}$. Without Replacement, we can't guarantee we can do this, like we saw earlier.

\begin{theorem}[Recursion theorem on $\Ord$]
Let $G(\alpha,f)$ be a class function whose inputs are an ordinal $\alpha$ and a function $f$ with domain $\alpha$. Then there is a class function $F(\alpha)$ whose input is an ordinal $\alpha$ so that, for all $\alpha \in \Ord$,
\[
F(\alpha) = G(\alpha, F \rest \alpha).
\]
\end{theorem}

A few comments. First, this theorem implies that you can do recursion along a fixed ordinal $\beta$---just define $G$ to do nothing for inputs $\ge \beta$.

Second, recall that class functions are just abbreviations for definable mappings. So what this says is that if I give you a definition which gives a function $G$ (even if it's too big to be a set), then you can turn that definition into a new, more complicated definition for $F$. Note that by $F \rest \alpha$ we mean the \emph{set} which is co-extensive with the class function that is the restriction of $F$ to $\alpha$. We can't use the class function itself as an input, because inputs have to be sets.

Third, again this is a theorem schema giving infinitely many theorems.

\begin{proof}
We prove this by doing the same thing we did back in Chapter 1, but with a little care to see that $\ZF$ is enough to do the required work. To that end, let's repeat the argument, with annotations as footnotes.

Say that a function $f$ with domain $\beta$ is a \emph{partial solution below  $\beta$} if $f(\gamma) = G(\gamma, f \rest \gamma)$ for all $\gamma < \beta$.

\textit{Claim:} Any two partial solutions agree on their shared domain. In particular, for each $\beta$ there is at most one partial solution below $\beta$.

Suppose $f$ and $f'$ are two partial solutions with a shared domain $\beta$. Use induction to prove $f(\gamma) = f'(\gamma)$ for every $\gamma < \beta$. Namely, if $f$ and $f'$ agree below $\gamma$ then $f \rest \gamma = f' \rest \gamma$. Then $f(\gamma) = G(\gamma, f \rest \gamma)$ and $f'(\gamma) = G(\gamma, f' \rest \gamma)$ are the same.

\textit{Claim:} For every $\beta$ there exists a partial solution below $\beta$.

By induction. The empty function is a partial solution below $0$, establishing the zero case. For the limit case, let $f_\gamma$ be the partial solution up to $\gamma$ for each $\gamma < \beta$. By the previous claim we know the $f_\gamma$'s agree on their common domain, so $f_\beta = \bigcup_{\gamma < \beta} f_\gamma$ is a function.\footnote{This is where we use Replacement (and Union, I suppose), and it is the \emph{only} place. To know that we can take the union of $f_\gamma$ to get a set we have to know that $\{f_\gamma : \gamma < \beta \}$ is a set.} 
Then $f_\beta$ is a partial solution below $\gamma$.

For the successor case, let $f_\beta$ be the partial solution below $\beta$. To extend to a partial solution below $\beta+1$ set $f_{\beta + 1} = f_\beta \cup \{(\beta,G(\beta, f_\beta))\}$.

We can now define the full solution $F$. Namely, set $F(\beta) = x$ if any partial solution $f$ with $\beta$ in its domain has $f(\beta) = x$. This defines a function\footnote{Rather, a class function.} because all partial solutions agree, and its domain is $\Ord$ because there is a partial solution below every $\beta$.
\end{proof}

It turns out that Replacement is actually equivalent to transfinite recursion. If you assume transfinite recursion---the theorem just proved---and the other axioms of $\ZFC$, then you can prove Replacement. This is one of the problems for this chapter.

And just like you can have induction for well-founded relations in general, not just well-orders, you can have recursion as well. Let me state without proof two forms of this.

\begin{theorem}[Transfinite recursion along a well-founded relation]
Fix $(X,E)$, where $E$ is a well-founded relation on the set $X$. Let $G(x,f)$ be a class function whose inputs are any $x \in X$ and a function $f$ with domain $E \downarrow x = \{ y \in X : y \mathbin E x\}$. Then there is a class function $F(x)$ whose input is $x \in X$ so that, for all $x \in X$
\[
F(x) = G(x, F \rest (E \downarrow x)).
\]

\end{theorem}

\begin{theorem}[Transfinite recursion along $\in$]
Let $G(x,f)$ be a class function whose inputs are any set $x$ and a function $f$ with domain $x$. Then there is a class function $F(x)$ whose input is a set $x$ so that, for all $x$
\[
F(x) = G(x, F \rest x).
\]
\end{theorem}

For example, when we defined the rank function on sets by recursion on $\in$ it was this result that was being used in the background.
\smallskip

Let me close this section by mentioning a small fact proved by transfinite recursion.

\begin{lemma}
Every set $x$ is contained inside a transitive set $t$.
\end{lemma}

\begin{proof}
The idea is, we turn $x$ into a transitive set by adding in the elements of elements of $x$, the elements of elements of elements of $x$, and so on. This is formally done by recursion.

Define $x_n$ for $n < \omega$ by recursion: start with $x_0 = x$ and set $x_{n+1} = x_n \cup \bigcup_{y \in x_n} y$. Then $t = \bigcup_{n < \omega} x_n$ is transitive. This is because if $y \in t$ then $y \in x_n$ for some $n$. But then any $z \in y$ is in $x_{n+1} \subseteq t$.
\end{proof}

\subsection*{Exercises}

\begin{enumerate}
\item Check that saying $(n,d)$ and $(m,e)$ represent the same fraction if $ne = md$ is an equivalence relation.
\item Write down explicit definitions for $-$, $\cdot$, and $/$ for pairs representing rationals. Check that they, and the $+$ from the text, are well-defined on equivalence classes.
\end{enumerate}

\newpage

\section{The axiom of choice}

Some of the axioms of $\ZF$, such as Extensionality or Union, describe basic facts or operations about sets. Others, such as Infinity or Replacement, were motivated by the cumulative hierarchy perspective. In this section we see one last axiom, which is neither an elementary fact nor a distillation of a property of the cumulative hierarchy. But it is necessary for a lot of work in math, so we want to have it. 

This axiom is Zermelo's axiom of choice.

\begin{definition}
A \emph{choice function} on a set $x$ is a function $f$ whose inputs are nonempty sets $y \in x$ so that $f(y) \in y$ for every nonempty $y \in x$.
\end{definition}

\begin{definition}[Zermelo, 1904]
The \emph{axiom of Choice} ($\AC$) asserts that for any set $x$ there is a choice function on $x$.
\end{definition}

\begin{definition}
The set theory $\ZFC$ (Zermelo--Fraenkel set theory with the axiom of choice) is axiomatized by the axioms of $\ZF$ and the axiom of Choice.
\end{definition}

Informally, what $\AC$ says is that if you need to make infinitely many choices in a proof, you can do so. Indeed, you already did this in one of the problems for Chapter 0.

\begin{example}
To prove that a countable union of countable sets is countable, you \emph{chose} a bijection $A_n \to \Nbb$ for each of your countable sets $A_n$. It was the axiom of choice that allowed these infinitely many choices. Namely, for each $n$ let $B_n$ be the set of bijections $A_n \to \Nbb$ and let $b = \{ B_n : n \in \Nbb \}$. Then $\AC$ says that there is a choice function on $b$, and $b(B_n)$ gives us a bijection $A_n \to \Nbb$.

Naturally, when using $\AC$ in proofs no one explicitly writes down all that. They just say something like ``pick a foo for each bar''.
\end{example}

$\AC$ generalizes a consequence of Existential Instantiation, a logical principle. Remember that Existential Instantiation says that if $\exists x\ \phi(x)$ is true then you may infer that $\phi(a)$ is true for some newly introduced variable $a$. One common way this is applied is for the formula $\exists x\ x \in A$ (namely, that $A$ is nonempty) to get an element of $A$. Repeating this you can get elements for finitely many sets $A_0, A_1, \ldots, A_n$. But you can't do it for infinitely many sets, as that would require an infinitely long deduction, and proofs are finite. $\AC$ says that you can make all your infinitely many choices simultaneously. 

The axiom of choice was introduced by Zermelo in an article about his well-ordering theorem. His earlier proof of the theorem had faced criticism, so in response he wrote a new article carefully laying out just what assumptions he used to prove the theorem. $\AC$ was one of those axioms. Indeed, he proved that $\AC$ is equivalent to that theorem. This article is where Zermelo set theory $\Zsf$ was first set forth. It was later supplemented with Replacement and Foundation to get $\ZF$, and adding $\AC$ gives $\ZFC$.

\begin{theorem}[Well-ordering theorem]
Every set can be well-ordered.
\end{theorem}

\begin{proof}
The idea is, having a well-order of a set is equivalent to having a sequence indexed by an ordinal which enumerates every element of the set. Then we can set $x < y$ if the first index where $x$ appears is before the first index where $y$ appears. We construct such a sequence by using the axiom of choice to always pick the next element, going until we run out of space.

In more detail: fix a set $X$ and let $\alpha = \aleph(X)$, the smallest ordinal which doesn't inject into $X$.\footnote{It was a Chapter 1 problem to prove $\aleph(X)$ has that property.} Fix a choice function $f$ for $\powerset(X)$. We construct an enumeration $\seq{x_\xi : \xi < \beta}$ of length some $\beta < \alpha$ by transfinite recursion along $\alpha$. Namely, we set
\[
x_\xi = f(X \setminus \{ x_\eta : \eta < \xi \})
\]
if $X \setminus \{ x_\eta : \eta < \xi \}$ is nonempty, and otherwise $x_\xi$ is undefined. Observe that if $\eta < \xi$ then $x_\eta \ne x_\xi$. And observe that if $x_\xi$ is undefined then so is $x_\eta$ for all $\eta > \xi$. Thus, the indices $\xi$ for which $x_\xi$ exists form an initial segment of $\alpha$, say all $\xi < \beta$. 

Note now that if there is any $\xi < \alpha$ for which $x_\xi$ is undefined, it's because our sequence enumerated all of $X$ and we had no more space to keep going. We are done if we can prove this happened. Towards a contradiction, assume that $x_\xi$ is defined for all $\xi < \alpha$. Then, $\xi \mapsto x_\xi$ is a bijection $\alpha \to X$, contradicting that there's no injection $\alpha \to X$. Done.
\end{proof}

\begin{theorem}
Working in $\ZF$, the well-ordering theorem implies $\AC$.
\end{theorem}

\begin{proof}
Let $x$ be a set. Set $y = \cup x$. Note that if $a \in x$ then $a \subseteq y$. By the well-ordering theorem there is a well-order $\le$ on $y$. Now define a choice function $f$ on $x$ by setting $f(a)$ to be the least element of $a$ according to the well-order $\le$. Done.
\end{proof}

\begin{corollary}
Over $\ZF$, $\AC$ and the well-ordering theorem are equivalent. \qed
\end{corollary}

Now that we have the well-ordering theorem, we get that everything from Chapter $2$ can be done in $\ZFC$.
\smallskip

There are many other equivalent forms of $\AC$. I list a few here, without proof. (Some of the proofs are problems for you.) For those equivalences which are substantive theorems I've provided the names of who first proved them.

\begin{theorem}
Over $\ZF$, the following are all equivalent.
\begin{enumerate}
\item The axiom of choice;
\item (Ernst Zermelo) The well-ordering theorem;
\item (Friedrich Hartogs) Cardinal trichotomy, the assertion that for any two sets there's an injection from one to the other;
\item (Dorothy Wrinch) There are no sets $A,B$ so that $\kappa < \card B$ whenever $\kappa < \card A$ but $A$ and $B$ are incomparable in cardinality;
\item (Alfred Tarski) For any infinite set $A$ there's a bijection $A \to A^2$;
\item K\H{o}nig's theorem (Theorem 49 from Chapter 2).
\item For any sets $A,B$ there is an injection $A \to B$ if and only if there is a surjection $B \to A$.
\item For any surjection $f : A \to B$ there is a function $g : B \to A$ so that $f \circ g$ is the identity function.\footnote{For the category theoretically inclined: this is saying that every epimorphism splits in the category of sets.}
\item (Kazimierz Kuratowski) Zorn's lemma. (See the problem set for a statement.)
\end{enumerate}
\end{theorem}

There are many important theorems in mathematics which are provable in $\ZFC$ but not in $\ZF$. Sometimes they need the full power of $\AC$---if you assume the theorem you can prove $\AC$---and other times they are weaker than full $\AC$. We've seen a few of these theorems in set theory. Here's some examples outside of set theory.

\begin{example}
The following theorems are provable in $\ZFC$ but not $\ZF$:
\begin{enumerate}
\item Every vector space has a basis.
\item The Hahn--Banach theorem in analysis.
\item Krull's theorem that rings have maximal ideals.
\item Tychonoff's theorem for products of compact topological spaces.
\item The De Bruijn--Erd\H{o}s theorem about graph colorings.
\item The Banach--Tarski theorem about paradoxical decompositions of the sphere.
\end{enumerate}
\end{example}

There is a hierarchy of \emph{choice principles}, principles which aren't provable in $\ZF$ but are provable in $\ZFC$, which measure the strength of different theorems needing the axiom of choice. This is a possible topic for Chapter $\omega$.

\subsection*{Exercises}

\begin{enumerate}
\item Check that $\AC$ is equivalent to the assertion that any cartesian product of nonempty sets is nonempty. [Hint: show that an element of $\prod_{i \in I} X_i$ is, up to some shuffling of indices, a choice function on $\{ X_i : i \in I \}$.]
\end{enumerate}

\newpage

\section{The limits of the axioms and independence}

Back in Chapter 2 I told you that the continuum hypothesis ($\CH$) is independent of the basic axioms of set theory. Now that we know what those axioms are, let's revisit that topic.

First off, let's make clear just what it means to say something is independent of $\ZFC$. 

\begin{definition}
A statement $\phi$ is \emph{independent} of $\ZFC$ if one of the following two equivalent conditions holds:
\begin{enumerate}
\item There is no proof of $\phi$ nor $\neg \phi$ starting from the axioms of $\ZFC$; or
\item There are structures $Y$ and $N$ which satisfy all the axioms of $\ZFC$ and $Y$ satisfies $\phi$ while $N$ satisfies $\neg \phi$.
\end{enumerate}
You can similarly define what it means for $\phi$ to be independent of some other set of axioms.
\end{definition}

That $(1)$ and $(2)$ are equivalent is G\"odel's \emph{completeness theorem}, one of the foundational results in logic. (Not to be confused with his incompleteness theorem!) The second formulation of independence is often the nicest to think about, since it's not so clear how you go about showing there cannot be a proof of such-and-such.

Briefly, here's what G\"odel and Cohen did to show that $\CH$ is independent

G\"odel proved that you could thin out $\Vrm$ to a thinnest possible universe of sets, which he called $\Lrm$. Like $\Vrm$ this universe is built up iteratively. But rather than add in the full powerset at each stage, $\Lrm$ adds in only a little bit more. He proved that if you assume $\ZF$ is true, then $\ZFC + \GCH$ is true in $\Lrm$.

Cohen worked in the opposite direction. He proved that starting with $\Vrm$ you could add in a ``generic'' object $G$ and define an even larger universe $\Vrm[G]$, in which $\ZFC$ is true and $\CH$ is false. So $\Lrm$ and $\Vrm[G]$ give structures witnessing that $\CH$ is independent of $\ZFC$. (Indeed, you could pick a different generic object $H$ and get that $\Vrm[H]$ satisfies $\ZFC + \CH$. So you can use Cohen's method to prove both parts of the independence.)

There's a lot of work to be done to understand the details of what they did, not the least how to actually make sense of what it means to add a new object outside the universe. Sadly we don't have the time to do so in this class.

G\"odel's work is the start of \emph{inner model theory} and Cohen invented \emph{forcing}. These are two central topics in modern set theory, and they have been pushed to do a lot more than prove the independence of $\CH$. We very much are still living in their shadows. 
\smallskip

G\"odel and Cohen both modified the ``width'' of the universe. G\"odel thinned it down while Cohen fattened it out. But neither one changed the ``height'' of the universe---you neither add nor remove ordinals. You can also talk about changing the height of the universe. You can cut down $\Vrm$ to some $\Vrm_\alpha$, or you could imagine building even higher, using well-orders too long to exist in the current universe. 

Let's see an example of this.

\begin{definition}
An uncountable cardinal $\kappa$ is \emph{inaccessible} if $\kappa$ is regular and $2^\lambda < \kappa$ for all $\lambda < \kappa$. Recall that this last property is what we termed being a strong limit.
\end{definition}

In Chapter 2 I said that the existence of a regular strong limit is independent of the basic axioms of set theory. Let's see why now.

\begin{theorem}
All of the axioms of $\ZFC$ are true in $\Vrm_\kappa$ whenever $\kappa$ is inaccessible. Thus, ``there is an inaccessible cardinal'' is independent of $\ZFC$.
\end{theorem}

We get the ``thus'' because if $\kappa$ is the smallest inaccessible cardinals then $\Vrm_\kappa$ is a structure in which $\ZFC$ $+$ ``there are no inaccessible cardinals'' is true.

\begin{proof}[Proof Sketch]
$\kappa$ is a limit ordinal, and in a problem for this chapter you prove that most of the axioms of $\ZFC$ are true in $\Vrm_\alpha$ whenever $\alpha$ is limit. The sticking point is Replacement.

The idea is, suppose you have a class function $F(x)$ over $\Vrm_\kappa$. Thinking externally: a class function over $\Vrm_\kappa$ matches up with a function whose domain is a subset of $\Vrm_\kappa$. Composing $F$ with the rank function we may assume that $F : \kappa \to \kappa$. So if $a \in \Vrm_\kappa$ then the image of $a$ under $F$ must be bounded by an ordinal $\beta$, by regularity. (Else there'd be a cofinal function from $\alpha = \sup a$ to $\kappa$.) So $\beta$ gives you a set containing the image of $a$ under $F$. So Replacement for $F$ holds.
\end{proof}

\begin{remark}
With some more technology (not covered in this class) you can also see why regular limit cardinals are independent of $\ZFC$. Namely, if $\kappa$ is a regular limit then you can prove that in $\Lrm$ that $\kappa$ is inaccessible. (A key point is that $\GCH$ is true in $\Lrm$ and so being a strong limit cardinal is equivalent to being a limit cardinal.) Then run the same argument.
\end{remark}

Inaccessible cardinals are the beginning of \emph{large cardinals}, those cardinal numbers which are so large their existence is independent of $\ZFC$. These give a different kind of independence than we had with $\CH$. Getting the independence of large cardinals is about shorter versus taller universes. In effect, we get large cardinals by growing the cumulative hierarchy higher, and we lose them by cutting off at some $\Vrm_\kappa$.

On the other hand, note that $\CH$ can be cast as a statement about what's true in $\Vrm_{\omega + \omega}$---it asserts that there is no subset of $\Rbb$ which is neither countable nor in bijection with all of $\Rbb$. So the truth or falsity of $\CH$ cannot be determined by which $\Vrm_\kappa$ we're in (so long as $\kappa > \omega + \omega$). Instead, it's about having a thinner or wider universe.

Large cardinals are another central theme in modern set theory. Indeed, the three themes mentioned---inner models and forcing being the other two---enjoy a lot of interplay; much fruitful work has been done by seeing how the different concepts relate.

Large cardinals are a possible topic for Chapter $\omega$.

\subsection*{Believing the axioms}

Mentioning inaccessible cardinals raises a question: if we can't prove their existence in $\ZFC$, why should we think they even exist? We might as well go a step further and ask, why should we believe the axioms of $\ZFC$ in the first place.

The short answer is, most of the axioms describe a specific structure, the cumulative hierarchy. If you think that structure makes sense to talk about, then you should believe those axioms are true in it.

This doesn't explain why you should believe $\AC$. Some don't. But whatever you decide, it cannot be denied that $\AC$ is essential to a lot of interesting work in mathematics.

The long answer belongs to philosophers of mathematics, and so falls outside the scope of this class. What I will say is, if you are interested in this question, then Penelope Maddy's seminal paper ``Believing the axioms'' is the best starting place for you. Part 1 concerns the axioms of $\ZFC$ itself, while part 2 looks at large cardinal axioms. (Warning! Like most philosophy of math which looks at set theory, Maddy's paper very quickly dives into technical mathematics.)

\subsection*{Exercises}

\begin{enumerate}
\item Check that if $\GCH$ is true---that is, if $2^\kappa = \kappa^+$ for all infinite $\kappa$, then a cardinal is a limit cardinal if and only if it is a strong limit cardinal.
\end{enumerate}

\end{document}



\subsection*{Exercises}

\begin{enumerate}

\end{enumerate}

\newpage
